(this.webpackJsonphoursnotes=this.webpackJsonphoursnotes||[]).push([[0],{117:function(e,t,n){e.exports=n(531)},122:function(e,t,n){},124:function(e,t,n){},47:function(e,t){},531:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(101),s=n.n(r),i=(n(122),n(25)),c=n.n(i),l=n(112),u=n(102),d=n(103),p=n(104),m=n(113),h=n(105),g=n(114),b=(n(124),n(125),n(23)),f=n(111),v="mutation CreateTodo(\n  $input: CreateTodoInput!\n  $condition: ModelTodoConditionInput\n) {\n  createTodo(input: $input, condition: $condition) {\n    id\n    name\n    date\n    description\n    hours\n    owner\n  }\n}\n",y="mutation DeleteTodo(\n  $input: DeleteTodoInput!\n  $condition: ModelTodoConditionInput\n) {\n  deleteTodo(input: $input, condition: $condition) {\n    id\n    name\n    date\n    description\n    hours\n    owner\n  }\n}\n",_="query ListTodos(\n  $filter: ModelTodoFilterInput\n  $limit: Int\n  $nextToken: String\n) {\n  listTodos(filter: $filter, limit: $limit, nextToken: $nextToken) {\n    items {\n      id\n      name\n      date\n      description\n      hours\n      owner\n    }\n    nextToken\n  }\n}\n",w={aws_project_region:"eu-central-1",aws_cognito_identity_pool_id:"eu-central-1:e1d6329a-6ca9-4aeb-9777-5159323d5992",aws_cognito_region:"eu-central-1",aws_user_pools_id:"eu-central-1_aYOJFsYR1",aws_user_pools_web_client_id:"1hs3vshmc3nodnbv76tv0jcjku",oauth:{},aws_appsync_graphqlEndpoint:"https://pxl4zxtebbem3kib2yj3tl4ghq.appsync-api.eu-central-1.amazonaws.com/graphql",aws_appsync_region:"eu-central-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS",aws_content_delivery_bucket:"hoursnotes-20200114170828-hostingbucket-dev",aws_content_delivery_bucket_region:"eu-central-1",aws_content_delivery_url:"https://d3l321yj7z92uf.cloudfront.net"};b.b.configure(w);var E=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",date:"",description:"",hours:"",todos:[]},n.onChange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.CreateTodo=function(){var e,t,a;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==n.state.name&&""!==n.state.date&&""!==n.state.description&&""!==n.state.hours){o.next=2;break}return o.abrupt("return");case 2:return o.prev=2,e={name:n.state.name,date:n.state.date,description:n.state.description,hours:n.state.hours},t={input:e},a=[].concat(Object(l.a)(n.state.todos),[e]),n.setState({name:"",date:"",description:"",hours:"",todos:a}),o.next=9,c.a.awrap(b.a.graphql(Object(b.c)(v,t)));case 9:console.log("todo successfully created!",e),n.listNotes(),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),console.log("error creating todo ...",o.t0);case 16:case"end":return o.stop()}}),null,null,[[2,13]])},n.DeleteTodo=function(e){var t,a;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t={id:e},o.next=4,c.a.awrap(b.a.graphql(Object(b.c)(y,{input:t})));case 4:a=o.sent,console.log("todo successfully deleted!",{result:a}),n.listNotes(),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(0),console.log("error deleting todo ...",o.t0);case 12:case"end":return o.stop()}}),null,null,[[0,9]])},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"listNotes",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(b.a.graphql(Object(b.c)(_)));case 2:e=t.sent,this.setState({todos:e.data.listTodos.items});case 4:case"end":return t.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.awrap(b.a.graphql(Object(b.c)(_)));case 3:e=t.sent,console.log("showing todos: ",e),this.setState({todos:e.data.listTodos.items}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error fetching data: ",t.t0);case 11:case"end":return t.stop()}}),null,this,[[0,8]])}},{key:"render",value:function(){var e=this,t=[].concat(this.state.todos).map((function(t,n){return o.a.createElement("div",{className:"alert alert-primary alert-dismissible show",role:"alert"},o.a.createElement("span",{key:t.i},"Name: ",t.name," Datum: ",t.date," Elternarbeit: ",t.description," Stunden: ",t.hours),o.a.createElement("button",{key:t.i,type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:e.DeleteTodo.bind(e,t.id)},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container"},o.a.createElement("legend",null,"Trag' deine Elternstunden in das Formular ein."),o.a.createElement("form",null,o.a.createElement("p",null,o.a.createElement("input",{id:"name",type:"text",placeholder:"Name",className:"form-control",value:this.state.name,onChange:this.onChange,name:"name"})),o.a.createElement("p",null,o.a.createElement("input",{id:"date",type:"text",placeholder:"Datum der Elternarbeit",className:"form-control",value:this.state.date,onChange:this.onChange,name:"date"})),o.a.createElement("p",null,o.a.createElement("input",{id:"description",type:"text",placeholder:"Beschreibung der Elternarbeit",className:"form-control",value:this.state.description,onChange:this.onChange,name:"description"})),o.a.createElement("p",null,o.a.createElement("input",{id:"hours",type:"number",placeholder:"Anzahl Elternstunden",className:"form-control",value:this.state.hours,onChange:this.onChange,name:"hours"})),o.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.CreateTodo},"Eintrag vornehmen"))),o.a.createElement("hr",null),o.a.createElement("div",{className:"container"},o.a.createElement("legend",null,"Erfasste Elternstunden"),o.a.createElement("p",null,"Falsch erfasste Stunden bitten l\xf6schen und neu eintragen."),t),o.a.createElement("hr",null))}}]),t}(a.Component),k=Object(f.a)(E,{includeGreetings:!0,signUpConfig:{hiddenDefaults:["phone_number"],signUpFields:[{label:"Familienname",key:"name",required:!0,type:"string"}]}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.b.configure(w),s.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[117,1,2]]]);
//# sourceMappingURL=main.b2b0c38a.chunk.js.map